<!DOCTYPE html>
<html>
<head>
    <title>Plan | Server Analysis</title>
    <meta name="description" content="Player Analysis window">
    <meta name="author" content="Rsl1122">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://puu.sh/tK0KL/6aa2ba141b.ico" type="image/x-icon"/>
    <script src="https://use.fontawesome.com/df48eb908b.js"></script>
    <style>
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 88px;
            padding: 0px;
            background-color: #348e0f;
            z-index: 1;
        }
        .header-content {
            padding: 5px 20px;
        }
        body {
            font-family: Verdana, sans-serif;
            background-color: #ddd;
            color: #fff;
        }
        .sidenav {
            height: 100%;
            width: 15%;
            position: fixed;
            top: 0;
            left: 0;
            background-color: #5cb239;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 88px;
            text-align: left;
        }
        .sidenav p {
            width: 100%;
            padding: 8px 8px 8px 16px;
            text-decoration: none;
            background-color: #89c471;
            color: #fff;
            margin: 10px 0px;
        }

        .sidenav a {
            margin: 10px 0px;
            width: 100%;
            padding: 8px 8px 8px 16px;
            text-decoration: none;
            background-color: #89c471;
            font-size: 22px;
            color: #fff;
            display: block;
            transition: 0.3s;
            z-index: 1;
        }

        .sidenav a.active {
            background-color: #5da341;
        }

        .sidenav a:hover, .offcanvas a:focus{
            background-color: #5da341;
        }

        .main-limiter {
            margin-left: 15%;
            width: 85%;
            height: 100%;
            overflow: hidden;
        }

        .main-wrapper {
            margin-top: 88px;
            transform: translate3d(0, 0, 0);
            opacity: 0;
            transition: 1.5s;
        }

        .box {
            background-color: #fff;
            padding: 5px;
            text-decoration: none;!important;
            color: #000
            text-align: left;
            margin: 5px;
            padding: 5px;
        }

        .box p {
            color: #000;
        }
        .tab {
            width: 20%;
            height: 100%;
            float: left;
            display: flex;
            text-align: left;
            align-content: flex-start;
        }
        .content {
            text-align: center;
            padding: 5px;
            margin: 0px;
        }
        .row {
            width: 50%;
            display: flex;
            flex-direction: column;
        }
        .columns {
            display: flex;
        }
        .column {
            flex: 1;
        }
        .box-area {
            width: 100%;
            display: flex;
        }
        .infobox {
            margin-left: 3px;
            color: white;
            background-color: #348e0f;
            padding: 8px 14px;
            border-radius: 6px;
            float: right;
        }
        .info-text {
            float: right;
            width: 50%;
            text-align: right;
        }
        .info-number {
            font-size: x-large;
            float: right;
        }
        .info-label {
            float: right;
            font-size: medium;
        }
        .info-icon {
            font-size: xx-large;
            float: left;
        }
        .headerbox {
            color: #348e0f;
            display: inline-block;
            border-style: solid;
            border-color: #348e0f;
            padding: 8px 14px;
			border-radius: 3px;
            width: 95%;
        }
        .header-icon {
            font-size: xx-large;
            float: left;
        }
        .header-text {
            font-size: x-large;
        }
        .header-label {
            padding: 0px;
            margin: 0px;
            border: 0px;
        }
        .button {
            padding: 8px 14px;
            background-color: #348e0f;
            border: none;
            color: white;
            outline: 0;
            text-decoration:none!important;
        }
        .button:hover {
            background-color: #267F00;
        }
        .table {
            border-collapse: collapse;
            table-layout: fixed;
            border-style: solid;
            border-width: 1px;
            padding: 8px 14px;
            width: 100%;
        }
        .buttons {
            line-height: 270%;
        }
        .link {
            color: #348e0f;
            text-decoration:none!important;
        }
        .link:hover {
            color: #267F00;
        }
        table.sortable thead {
            background-color: #348e0f;
            color:#fff;
            font-weight: bold;
            cursor: default;
            width: 100%;
            overflow: hidden;
        }
        table.sortable tbody {
            color: #000;
        }
        table.sortable th:not(.sorttable_sorted):not(.sorttable_sorted_reverse):not(.sorttable_nosort):after {
            content: " \25B4\25BE"
        }
        .plugin-container {
            color: #000;
            height: 100%;
            max-height: 400px;
            overflow: auto;
        }
        .plugin-data {
            color: #000;
        }
        header img {
            float: right;
            padding: 5px;
            display: inline;
        }
        header p {
            float: right;
            text-align: right;
        }
        #navbutton {
            display: none;
            font-size: 40px;
            cursor:pointer;
        }
        @media only screen and (max-width: 850px) {
            #navbutton {
                display: inline;
            }
            .sidenav p {
                display: none;
            }
            header {
                margin: 0px;
                padding 0px;
            }
            header h1 {
                margin: 0px;
            }
            header img {
                margin: 0px;
                padding: 0px;
                margin-right: 0px;
            }
            header p {
                margin: 0px;
                margin-top: 5px;
            }
            .tab {
                flex-direction: column;
            }
            .columns {
                flex-direction: column;
            }
            .row {
                width: 100%;
            }
            .sidenav {
                width: 0%;
                transition: 0s;
            }
            .main-limiter {
                margin-left: 0%;
                width: 100%;
            }
        }



    </style>
</head>
<body onload="countUpTimer()">
<header>
    <div class="header-content">
        <img src="https://puu.sh/tJZUb/c2e0ab220f.png" alt="Player Analytics | Analysis">
        <p>Player Analytics v.%version%</p>
        <h1><span id="navbutton" onclick="openNav()">&#9776; </span>%servername% | Server Analysis</h1>
    </div>
</header>
<div id="content" class="content">

    <div id="sidenav" class="sidenav">
        <p>Last Refresh: <br><span id="divTime">%refresh%</span> ago</p>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-info-circle" aria-hidden="true"></i> Information
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-bar-chart" aria-hidden="true"></i> Online Activity
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-calendar" aria-hidden="true"></i> Sessions
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-cogs" aria-hidden="true"></i> Performance
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-list-alt" aria-hidden="true"></i> Playerlist
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-terminal" aria-hidden="true"></i> Command usage
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-globe" aria-hidden="true"></i> Demographics
        </a>
        <a href="javascript:void(0)" class="nav-button">
            <i class="fa fa-cubes" aria-hidden="true"></i> Plugins
        </a>
    </div>
    <div id="limiter" class="main-limiter">
        <div id="main" class="main-wrapper">
            <div class="tab">
                <div class="row">
                    <div class="box column">
                        <div class="headerbox">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-bar-chart" aria-hidden="true"></i><span
                                        class="header-text"> Player Activity</span></div>
                            </div>
                            <div class="infobox" style="float: right; width: 33%;">
                                <div class="info-icon">
                                    <i class="fa fa-user-plus" aria-hidden="true"></i>
                                </div>
                                <div class="info-text">
                                    <div class="info-number">
                                        %npday%
                                    </div>
                                    <div class="info-label">
                                        New Players / 24h
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="playerChartDay" style="width=100%; height=350px;"></div>
                        <p><i class="fa fa-user-circle" aria-hidden="true"></i> Unique Players: %uniquejoinsday% | <i
                                class="fa fa-user-circle-o" aria-hidden="true"></i> Unique/Day: %avguniquejoinsday%</p>
                    </div>
                    <div class=" box column" style="order: 5;">
                        <p class="header-label" style="color: #267F00; "><i class="fa fa-calendar-check-o"
                                                                            aria-hidden="true"></i><span
                                class="header-text"> Recent Logins</span></p>
                        <div class="buttons">
                            %recentlogins%
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class=" box column">
                        <div class="headerbox">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-info-circle" aria-hidden="true"></i><span
                                        class="header-text"> Information</span></div>
                            </div>
                            <div class="infobox" style="float: right; width: 33%;">
                                <div class="info-icon">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                </div>
                                <div class="info-text">
                                    <div class="info-number">
                                        %activitytotal%
                                    </div>
                                    <div class="info-label">
                                        Total Players
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p><i class="fa fa-clock-o" aria-hidden="true"></i> Total Playtime: %totalplaytime% | <i
                                class="fa fa-clock-o" aria-hidden="true"></i> Player Average: %avgplaytime%<br/>
                            <i class="fa fa-clock-o" aria-hidden="true"></i> Average Session Length:
                            %sessionaverage%<br/>
                            <i class="fa fa-calendar-plus-o" aria-hidden="true"></i> Total Login times:
                            %totallogins%<br/>
                            <i class="fa fa-user-circle-o" aria-hidden="true"></i> Average Unique Players/Day:
                            %avguniquejoins% | <i class="fa fa-user-plus" aria-hidden="true"></i> Average New/Day:
                            %newperday%<br>
                            <b><i class="fa fa-crosshairs" aria-hidden="true"></i></b> Player kills: %playerkills% | <i
                                    class="fa fa-crosshairs" aria-hidden="true"></i> Mob kills: %mobkills% | <i
                                    class="fa fa-meh-o" aria-hidden="true"></i> Deaths: %deaths%</p>
                    </div>
                    <div class=" box column">
                        <div id="gmPie" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
            </div>
            <div class="tab">
                <div class="row">
                    <div class=" box column">
                        <div class="headerbox">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-bar-chart" aria-hidden="true"></i><span
                                        class="header-text"> Player Activity</span></div>
                            </div>
                            <div class="infobox" style="float: right; width: 40%;">
                                <div class="info-icon">
                                    <i class="fa fa-user-plus" aria-hidden="true"></i>
                                </div>
                                <div class="info-text" style="width: 60%;">
                                    <div class="info-number">
                                        %newperdaymonth%
                                    </div>
                                    <div class="info-label">
                                        New Players / Day
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="playerChartMonth" style="width=100%; height=350px;"></div>
                    </div>
                    <div class=" box column">
                        <p><b>Month:</b><br>
                            <i class="fa fa-user-circle" aria-hidden="true"></i> Unique Players: %uniquejoinsmonth% <br>
                            <i class="fa fa-user-circle-o" aria-hidden="true"></i> Unique/Day: %avguniquejoinsmonth%
                            <br>
                            <i class="fa fa-user-plus" aria-hidden="true"></i> New Players: %npmonth% <br>
                            <i class="fa fa-user-plus" aria-hidden="true"></i> New Players / Day: %newperdaymonth% </p>
                        <p><b>Week:</b><br>
                            <i class="fa fa-user-circle" aria-hidden="true"></i> Unique Players: %uniquejoinsweek% <br>
                            <i class="fa fa-user-circle-o" aria-hidden="true"></i> Unique/Day: %avguniquejoinsweek% <br>
                            <i class="fa fa-user-plus" aria-hidden="true"></i> New Players: %npweek% <br>
                            <i class="fa fa-user-plus" aria-hidden="true"></i> New Players / Day: %newperdayweek%</p>
                        <p><b>Day:</b><br>
                            <i class="fa fa-user-circle" aria-hidden="true"></i> Unique Players: %uniquejoinsday% <br>
                            <i class="fa fa-user-circle-o" aria-hidden="true"></i> Unique/Day: %avguniquejoinsday% <br>
                            <i class="fa fa-user-plus" aria-hidden="true"></i> New Players: %npday% <br>
                            <i class="fa fa-user-plus" aria-hidden="true"></i> New Players / Day: %newperdayday% </p>
                    </div>
                </div>
                <div class="row">
                    <div class="box column">
                        <div class="headerbox" style="width: 95%;">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-pie-chart" aria-hidden="true"></i><span
                                        class="header-text"> Playerbase</span></div>
                            </div>
                            <div class="infobox" style="float: right; width: 40%;">
                                <div class="info-icon">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                </div>
                                <div class="info-text">
                                    <div class="info-number">
                                        %activitytotal%
                                    </div>
                                    <div class="info-label">
                                        Total Players
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="activityPie" style="width: 100%; height: 400px;"></div>
                    </div>
                    <div class=" box column">
                        <p class="header-label" style="color: #267F00; "><i class="fa fa-calendar-check-o"
                                                                            aria-hidden="true"></i><span
                                class="header-text"> Recent Logins</span></p>
                        <div class="buttons">
                            %recentlogins%
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab">
                <div class="row">
                    <div class=" box column">
                        <div class="headerbox">
                            <div class="header-icon" style="width: 50%">
                                <div class="header-label"><i class="fa fa-braille" aria-hidden="true"></i><span
                                        class="header-text"> PunchCard - Last 30d</span></div>
                            </div>
                            <div class="infobox">
                                <div class="info-icon">
                                    <i class="fa fa-calendar-plus-o" aria-hidden="true"></i>
                                </div>
                                <div class="info-text" style="width: 70%;">
                                    <div class="info-number">
                                        %totallogins%
                                    </div>
                                    <div class="info-label">
                                        Login Times
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="punchcard" style="width: 100%; height:400px;"></div>
                    </div>
                </div>
                <div class="row">
                    <div class=" box column">
                        <div class="headerbox">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-bar-chart" aria-hidden="true"></i><span
                                        class="header-text"> Length Distribution</span></div>
                            </div>
                            <div class="infobox">
                                <div class="info-icon">
                                    <i class="fa fa-clock-o" aria-hidden="true"></i>
                                </div>
                                <div class="info-text" style="width: 70%;">
                                    <div class="info-number">
                                        %sessionaverage%
                                    </div>
                                    <div class="info-label">
                                        Average Length
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="sessionDistribution" style="width: 100%; height:400px;"></div>
                    </div>
                </div>
            </div>
            <div class="tab">
                <div class="row">
                    <div class="box column">
                        <div class="headerbox">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-cogs" aria-hidden="true"></i><span
                                        class="header-text"> Performance</span></div>
                            </div>
                        </div>
                        <p><b>Week:</b><br>
                            <i class="fa fa-tachometer" aria-hidden="true"></i> Average TPS: %averagetpsweek%<br>
                            <i class="fa fa-building-o" aria-hidden="true"></i> Average CPU: %averagecpuweek%<br>
                            <i class="fa fa-microchip" aria-hidden="true"></i> Average RAM: %averagememoryweek%Mb<br>
                            <i class="fa fa-umbrella" aria-hidden="true"></i> Avg. Entities: %averageentitiesweek%<br>
                            <i class="fa fa-tree" aria-hidden="true"></i> Average Chunks: %averagechunksweek%
                        </p>
                        <p><b>Day:</b><br>
                            <i class="fa fa-tachometer" aria-hidden="true"></i> Average TPS: %averagetpsday%<br>
                            <i class="fa fa-building-o" aria-hidden="true"></i> Average CPU: %averagecpuday%<br>
                            <i class="fa fa-microchip" aria-hidden="true"></i> Average RAM: %averagememoryday%Mb<br>
                            <i class="fa fa-umbrella" aria-hidden="true"></i> Avg. Entities: %averageentitiesday%<br>
                            <i class="fa fa-tree" aria-hidden="true"></i> Average Chunks: %averagechunksday%</p>
                    </div>
                    <div class="box column">
                        <div id="resourceGraph" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="box column">
                        <div id="tpsGraph" style="width: 100%; height: 400px;"></div>
                    </div>
                    <div class="box column">
                        <div id="worldGraph" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
            </div>
            <div class="tab">
                <div class="row" style="width: 100%;">
                    <div class="box column">
                        <div class="headerbox" style="width: 97%;">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-list-alt" aria-hidden="true"></i><span
                                        class="header-text"> Playerlist</span></div>
                            </div>
                            <div class="infobox" style="float: right; width: 18%;">
                                <div class="info-icon">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                </div>
                                <div class="info-text">
                                    <div class="info-number">
                                        %activitytotal%
                                    </div>
                                    <div class="info-label">
                                        Total Players
                                    </div>
                                </div>
                            </div>
                        </div>
                        <table class="sortable table">
                            <thead>
                            <tr>
                                <th><i class="fa fa-user" aria-hidden="true"></i> Player</th>
                                <th><i class="fa fa-check" aria-hidden="true"></i> Active</th>
                                <th><i class="fa fa-clock-o" aria-hidden="true"></i> Playtime</th>
                                <th><i class="fa fa-calendar-plus-o" aria-hidden="true"></i> Login times</th>
                                <th><i class="fa fa-user-plus" aria-hidden="true"></i> Registered</th>
                                <th><i class="fa fa-calendar-check-o" aria-hidden="true"></i> Last seen</th>
                                <th><i class="fa fa-globe" aria-hidden="true"></i> Geolocation</th>
                            </tr>
                            </thead>
                            <tbody>
                            %sortabletable%
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="tab">
                <div class="row" style="width: 100%;">
                    <div class=" box column">
                        <div class="headerbox" style="width: 97%;">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-terminal" aria-hidden="true"></i><span
                                        class="header-text"> Command usage</span></div>
                            </div>
                            <div class="infobox" style="float: right;">
                                <div class="info-icon">
                                    <i class="fa fa-terminal" aria-hidden="true"></i>
                                </div>
                                <div class="info-text">
                                    <div class="info-number">
                                        %uniquecommands%
                                    </div>
                                    <div class="info-label">
                                        Unique
                                    </div>
                                </div>
                            </div>
                        </div>
                        <table class="sortable table">
                            <thead>
                            <tr>
                                <th><i class="fa fa-chevron-right" aria-hidden="true"></i> Command</th>
                                <th><i class="fa fa-list-ol" aria-hidden="true"></i> Times used</th>
                            </tr>
                            </thead>
                            <tbody>
                            %commanduse%
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="tab">
                <div class="row" style="width: 100%;">
                    <div class=" box column">
                        <div class="headerbox">
                            <div class="header-icon">
                                <div class="header-label"><i class="fa fa-globe" aria-hidden="true"></i><span
                                        class="header-text"> Geolocations</span></div>
                            </div>
                            <div class="infobox" style="float: right; width: 33%;">
                                <div class="info-icon">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                </div>
                                <div class="info-text">
                                    <div class="info-number">
                                        %activitytotal%
                                    </div>
                                    <div class="info-label">
                                        Total Players
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="width:100%;">
                            <div id="choropleth" style="width: 100%; height: 700px;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab" style="display: block;">
                %plugins%
            </div>
        </div>
    </div>
    <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/maps/modules/map.js"></script>
    <script src="https://code.highcharts.com/mapdata/custom/world.js"></script>
    <script>
		// Data Variables
		var playersOnlineSeries = {
			name: 'Players Online',
			data: %playersonlineseries%,
			type: 'areaspline',
			color: '#%playersgraphcolor%',
            tooltip: {
                valueDecimals: 0
            }
		};
		var tpsSeries = {
			name: 'TPS',			
			data: %tpsseries%,
			type: 'spline',
			color: '#b74343',
			tooltip: {
				valueDecimals: 2
			},
			yAxis: 1
		};
		var cpuSeries = {
			name: 'CPU Usage',
			data: %cpuseries%,
			type: 'areaspline',
			color: '#e0d264',
			tooltip: {
				pointFormat: '{series.name}: <b>{point.y:.2f}%</b>'
			}
		};
		var ramSeries = {
			name: 'RAM Usage',
			data: %ramseries%,
			type: 'areaspline',
			color: '#7dcc24',
			tooltip: {
				valueDecimals: 0
			},
			yAxis: 1
		};
		var entitySeries = {
			name: 'Loaded Entities',			
			data: %entityseries%,
			type: 'areaspline',
			color: '#ac69ef',
			tooltip: {
				valueDecimals: 0
			},
			yAxis: 1
		};
		var chunkSeries = {
			name: 'Loaded Chunks',			
			data: %chunkseries%,
			type: 'areaspline',
			color: '#b58310',
			tooltip: {
				valueDecimals: 0
			}
		};
		var activitySeries = {
			name: 'Players',
			colorByPoint: true,
			data: [{
				name: 'Active',
				y: %active%
			}, {
				name: 'Inactive',
				y: %inactive%,
				sliced: true,
				selected: true
			}, {
				name: 'Single Join',
				y: %joinleaver%
			}, {
				name: 'Banned',
				y: %banned%
			}]
		};
		var gmData = %gmdata%;
		var gmSeries = {
			name: 'GM Usage',
			colorByPoint: true,
			data: [{
				name: 'Survival',
				y: gmData[0],
				sliced: true,
				selected: true
			}, {
				name: 'Creative',
				y: gmData[1]
			}, {
				name: 'Adventure',
				y: gmData[2]
			}, {
				name: 'Spectator',
				y: gmData[3]
			}]
		};
		var mapSeries = {
			name: 'Players',
			type: 'map',
			mapData: Highcharts.maps['custom/world'],
			data: %geomapseries%,
			joinBy: ['iso-a3', 'code']
		};
		var sessionLengthSeries = {
			name: 'Sessions',
			color: '#89c471',			
			data: %sessionlengthseries%
		};
		var punchcardSeries = {
			name: 'Relative Activity',
			color: '#222',
			data: %punchcardseries%
		};

    </script>
    <script>
		function playersChart() {
			var myChart = Highcharts.stockChart('playerChartDay', {
				rangeSelector: {
					selected: 1,
					buttons: [{
						type: 'hour',
						count: 12,
						text: '12h'
					},{
						type: 'hour',
						count: 24,
						text: '24h'
					},{
						type: 'day',
						count: 7,
						text: '7d'
					},{
						type: 'month',
						count: 1,
						text: '30d'
					},{
						type: 'all',
						text: 'All'
					}]
				},				
				title: {text: 'Players Online'},
				plotOptions: {
					areaspline: {
						fillOpacity: 0.4
					}
				},
				series: [playersOnlineSeries]
			});
		}
		function playersChart2() {
			var myChart = Highcharts.stockChart('playerChartMonth', {
				rangeSelector: {
					selected: 4,
					buttons: [{
						type: 'hour',
						count: 12,
						text: '12h'
					},{
						type: 'hour',
						count: 24,
						text: '24h'
					},{
						type: 'day',
						count: 7,
						text: '7d'
					},{
						type: 'month',
						count: 1,
						text: '30d'
					},{
						type: 'all',
						text: 'All'
					}]
				},
				plotOptions: {
					areaspline: {
						fillOpacity: 0.4
					}
				},
				title: {text: 'Players Online'},
				series: [playersOnlineSeries]
			});
		}

    </script>
    <script>
		function tpsChart() {
			var myChart = Highcharts.stockChart('tpsGraph', {
				rangeSelector: {
					selected: 1,
					buttons: [{
						type: 'hour',
						count: 12,
						text: '12h'
					},{
						type: 'hour',
						count: 24,
						text: '24h'
					},{
						type: 'day',
						count: 7,
						text: '7d'
					},{
						type: 'month',
						count: 1,
						text: '30d'
					},{
						type: 'all',
						text: 'All'
					}]
				},
				yAxis: [{
				    labels: {
						align: 'right',
						x: -3
					},
					title: {
						text: 'Players'
					},
					height: '30%',
				}, {
					lineWidth: 2,
					labels: {
						align: 'right',
						x: -3
					},
					title: {
						text: 'TPS'
					},
					height: '70%',
					top: '30%',
					offset: 0,
					lineWidth: 2
				}],
				tooltip: {
                    split: true
                },
				plotOptions: {
					areaspline: {
						fillOpacity: 0.4
					}
				},
				title: {text: 'Ticks Per Second'},
				series: [tpsSeries, playersOnlineSeries]
			});
		}

    </script>
    <script>
		function resourceChart() {
			var myChart = Highcharts.stockChart('resourceGraph', {
				rangeSelector: {
					selected: 1,
					buttons: [{
						type: 'hour',
						count: 12,
						text: '12h'
					},{
						type: 'hour',
						count: 24,
						text: '24h'
					},{
						type: 'day',
						count: 7,
						text: '7d'
					},{
						type: 'month',
						count: 1,
						text: '30d'
					},{
						type: 'all',
						text: 'All'
					}]
				},
				yAxis: [{
					labels: {
						align: 'right',
						x: -3
					},
					title: {
						text: 'CPU / %'
					},
					height: '55%',
					lineWidth: 2
				}, {
					labels: {
						align: 'right',
						x: -3
					},
					title: {
						text: 'RAM / MB'
					},
					top: '55%',
					height: '40%',
					offset: 0,
					lineWidth: 2
				}],
				tooltip: {
                    split: true
                },
				plotOptions: {
					areaspline: {
						fillOpacity: 0.4
					}
				},
				title: {text: 'Resource Usage'},
				series: [cpuSeries, ramSeries]
			});
		}

    </script>
    <script>
		function worldChart() {
			var myChart = Highcharts.stockChart('worldGraph', {
				rangeSelector: {
					selected: 1,
					buttons: [{
						type: 'hour',
						count: 12,
						text: '12h'
					},{
						type: 'hour',
						count: 24,
						text: '24h'
					},{
						type: 'day',
						count: 7,
						text: '7d'
					},{
						type: 'month',
						count: 1,
						text: '30d'
					},{
						type: 'all',
						text: 'All'
					}]
				},	
				yAxis: [{
					labels: {
						align: 'right',
						x: -3
					},
					title: {
						text: 'Chunks'
					},
					height: '50%',
					lineWidth: 2
				}, {
					labels: {
						align: 'right',
						x: -3
					},
					title: {
						text: 'Entities'
					},
					top: '50%',
					height: '40%',
					offset: 0,
					lineWidth: 2
				}],
				tooltip: {
                    split: true
                },
				plotOptions: {
					areaspline: {
						fillOpacity: 0.4
					}
				},
				title: {text: 'World Load'},
				series: [entitySeries, chunkSeries]
			});
		}

    </script>
    <script>
        function activityPie() {
            var myChart = Highcharts.chart('activityPie', {
                chart: {
                    plotBackgroundColor: null, 
					plotBorderWidth: null, 
					plotShadow: false,
                    type: 'pie'
                },
                title: {text: 'Playerbase Composition'},
				subtitle: {text: 'Total Players: %activitytotal%'},
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.y}</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
						colors: [%activitycolors%],
                        showInLegend: true
                    }
                },
                series: [activitySeries]
            });
        };

    </script>
    <script>
        function gmPie() {			
            Highcharts.chart('gmPie', {
                chart: {
                    plotBackgroundColor: null, plotBorderWidth: null, plotShadow: false,
                    type: 'pie'
                },
                title: {text: 'Gamemode Usage'},
				subtitle: {text: '%gmtotal%'},
                tooltip: {
                    pointFormat: '{series.name}: <b>{point.percentage:.2f}%</b>'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: false
                        },
						colors: [%gmcolors%],
                        showInLegend: true
                    }
                },
                series: [gmSeries]
            });
        };

    </script>
    <script>
		function punchCard() {
			Highcharts.chart('punchcard' , {
				chart: {
					defaultSeriesType: 'scatter'
				},
				title: {
					text: 'Player Join PunchCard'
				},
				xAxis: {
					type: 'datetime',
					dateTimeLabelFormats: {
						hour: '%I %P'
					},
					tickInterval: 3600000
				},
				yAxis: {
				  categories: ['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'],
				},
				tooltip: {
					pointFormat: 'Activity: {point.z}'
				},
				series: [punchcardSeries]
			});
		}

    </script>
    <script>
        function sessionDistributionChart() {
			Highcharts.chart('sessionDistribution', {
				chart: {
					type: 'column'
				},
				title: {
					text: 'Session Length Distribution'
				},
				xAxis: {
					type: 'category',
					labels: {
						rotation: -45
					}
				},
				 yAxis: {
					min: 0,
					title: {
						text: 'Sessions'
					}
				},
				legend: {
					enabled: false
				},
				plotOptions: {
					series: {
						groupPadding: 0
					},
					pointPadding: 0
				},
				series: [sessionLengthSeries]
			});
		};

    </script>
    <script>	
        function worldMap() {
			var myChart = Highcharts.mapChart('choropleth', {
				title: {
					text: 'Geolocation Map'
				},
				chart: {
					animation: true
				},
				colorAxis: {
					min: 1,
					type: 'logarithmic',
					minColor: '#EEFFEE',
					maxColor: '#267f00'
				},
				series: [mapSeries]
			});
		}

    </script>
    <script>
        // Navigation & Refresh time clock
        function openNav() {
            document.getElementById("sidenav").style.width = "100%";
            document.getElementById("limiter").style.display = "none";
            document.getElementById("navbutton").onclick = function () { closeNav(); };
        }
        function closeNav() {
            document.getElementById("sidenav").style.width = "0%";
            document.getElementById("limiter").style.display = "block";
            document.getElementById("navbutton").onclick = function () { openNav(); };
        }
        var navButtons = document.getElementsByClassName("nav-button");
        var tabs = document.getElementsByClassName("tab");
        var slideIndex = window.sessionStorage.getItem("AnalysisSlideIndex");
        if (slideIndex == null) {
            slideIndex = 0;
        }
        var x = document.getElementById("main");
        x.style.transform = "translate3d(0px,0px,0)";
        x.style.width = "" + navButtons.length * 100 + "%";
        for (i = 0; i < navButtons.length; i++) {
            navButtons[i].onclick = openFunc(i)
            tabs[i].style.width = "" + 100 / navButtons.length + "%";
        }
        x.style.opacity = "1";
        openFunc(slideIndex)();
        gmPie();
		activityPie();
		playersChart();
		playersChart2();
		tpsChart();
		resourceChart();
		worldChart();
		worldMap();
		sessionDistributionChart();
		punchCard();
        countUpTimer();

        function openFunc(i) {
            return function() {
                if (window.getComputedStyle(document.getElementById("navbutton")).getPropertyValue('display') == "inline") {
                    closeNav();
                }
                var max = navButtons.length;
                for (var j = 0; j < max; j++) {
                    if (j == i) {
                        navButtons[j].classList.add('active');
                        continue;
                    }
                    if (navButtons[j].classList.contains('active')) {
                        navButtons[j].classList.remove('active');
                    }
                }
                var perc = - 100 / navButtons.length;
                slideIndex = i;
                if (slideIndex > max) {slideIndex = 0};
                if (slideIndex < 0) {slideIndex = max};
                window.sessionStorage.setItem("AnalysisSlideIndex", slideIndex);
                var value = slideIndex * perc;
                x.style.transition = "0.5s";
                x.style.transform = "translate3d(" + value + "%,0px,0)";
            };
        }
        function countUpTimer() {
            var now = new Date();
            var begin = new Date(%refreshlong%);
            var out = "";
            var seconds = now.getTime() - begin.getTime();
            seconds = Math.floor(seconds / 1000);
            var dd = Math.floor(seconds / 86400);
            seconds -= (dd * 86400);
            var dh = Math.floor(seconds / 3600);
            seconds -= (dh * 3600);
            var dm = Math.floor(seconds / 60);
            seconds -= (dm * 60);
            seconds = Math.floor(seconds);
            if (dd !== 0) {
                out += dd.toString() + "d ";
            }
            if (dh !== 0) {
                out += dh.toString() + "h ";
            }
            if (dm !== 0) {
                out += dm.toString() + "m ";
            }
            out += seconds.toString() + "s ";
            document.getElementById('divTime').innerHTML = out;
            setTimeout('countUpTimer()', 1000);
        }

    </script>
</div>
</body>
</html>